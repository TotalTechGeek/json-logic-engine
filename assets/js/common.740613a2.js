"use strict";(self.webpackChunkjson_logic_engine_documentation=self.webpackChunkjson_logic_engine_documentation||[]).push([[76],{9126:(e,t,n)=>{n.d(t,{A:()=>Qe});var r=n(6540);class o{constructor(e){this._logic=null,this.resumable=null,this._input=null,Object.assign(this,e)}logic(){return this._logic}}const i={mutateKey:e=>e,mutateValue:e=>e,skipCopy:e=>!1};function s(e,t={},n=i){const{mutateKey:r,mutateValue:o,skipCopy:c}={...i,...n};return"object"==typeof e&&!Array.isArray(e)&&e?c(e)?o(e):(Object.keys(e).forEach((i=>{t[r(i)]=o(s(e[i],{},n))})),t):Array.isArray(e)?[...e].map(((e,t)=>o(s(e,{},n)))):o(e)}function c(e,t=[]){return e instanceof o?(t.push(e),t):(Array.isArray(e)?e.forEach((e=>c(e,t))):"object"==typeof e&&Object.keys(e||{}).forEach((n=>{c(e[n],t)})),t)}class a{constructor(e){this.data=e}yields(){return c(this.data.result,[])}logic(){return s(this.data.result,{},{mutateValue:e=>e instanceof o?e.logic():e,skipCopy:e=>e instanceof o})}}function u(e){return Array.isArray(e)?e.some((e=>e instanceof o||e instanceof a)):e instanceof o||e instanceof a}const l={filter:async function(e,t){const n=[];for(const r of e)await t(r)&&n.push(r);return n},some:async function(e,t){for(const n of e)if(await t(n))return!0;return!1},every:async function(e,t){for(const n of e)if(!await t(n))return!1;return!0},map:async function(e,t){const n=[];for(const r of e)n.push(await t(r));return n},reduce:async function(e,t,n){if(0===e.length){if(void 0!==n)return n;throw new Error("Array has no elements.")}const r=void 0===n?1:0;let o=r?e[0]:n;for(let i=r;i<e.length;i++)o=await t(o,e[i]);return o}},d=Symbol.for("json_logic_sync"),f=Symbol.for("json_logic_override"),h=(Symbol.for("json_logic_efficientTop"),e=>Boolean("function"!=typeof e||e[d]));function y(e,t=!0){return e[d]=t,e}function p(e,t,n){if(Array.isArray(e))return e.every((e=>p(e,t,n)));if(e&&"object"==typeof e){const r=Object.keys(e)[0],o=e[r];return!1===t.methods[r].traverse?"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(o,n):t.methods[r].deterministic:"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(o,n):t.methods[r].deterministic&&p(o,t,n)}return!0}function m(e,t){if(!t.async)return!0;if(Array.isArray(e))return e.every((e=>m(e,t)));if("object"==typeof e){const n=Object.keys(e)[0],r=e[n];return!!h(t.methods[n])&&m(r,t)}return!0}function g(e,t,n,r){if(r[n])return r[n];const i=r[n+"_input"]?e(r[n+"_input"]):e("function"==typeof t?t():t);if(i instanceof o)throw i._input&&(r[n+"_input"]=i._input),i.resumable=r,i;return r[n]=i,i}async function b(e,t,n,r){if(r[n])return r[n];const i=r[n+"_input"]?await e(r[n+"_input"]):await e("function"==typeof t?await t():t);if(i instanceof o)throw i._input&&(r[n+"_input"]=i._input),i.resumable=r,i;return r[n]=i,i}function v(e,t={}){const{notTraversed:n=[],functions:r={},methods:o=[],state:i,async:s,above:c=[],processing:a=[],values:u=[],engine:l}=t;function d(e,t=!1){return function(e,t){return("number"!=typeof e||e!==1/0&&e!==-1/0&&!Number.isNaN(e))&&(null==e||["Number","String","Boolean"].includes(e.constructor.name)||!t&&"Object"===e.constructor.name)}(e,t)?JSON.stringify(e):(u.push(e),`values[${u.length-1}]`)}if(Array.isArray(e))return"["+e.map((e=>v(e,t))).join(", ")+"]";let f=!1;function y(e){return t.asyncDetected=t.asyncDetected||f,s&&f?`await ${e}`:e}const g=e&&Object.keys(e)[0];if(t.useContext=t.useContext||(l.methods[g]||{}).useContext,e&&"object"==typeof e){if(!g)return d(e);if(!l.methods[g]){if(l.options.permissive)return d(e,!0);throw new Error(`Method '${g}' was not found in the Logic Engine.`)}if(r[g]=r[g]||2,!t.engine.disableInline&&l.methods[g]&&p(e,l,t)){if(m(e,l))return d((l.fallback||l).run(e),!0);if(!t.avoidInlineAsync)return a.push(l.run(e).then((e=>d(e)))),`__%%%${a.length-1}%%%__`}if(l.options.yieldSupported&&l.methods[g]&&l.methods[g].yields)return function(e,t={}){const{notTraversed:n=[],functions:r={},async:o,engine:i}=t,s=Object.keys(e)[0];t.yieldUsed=(t.yieldUsed||0)+1;let c=!1;if(t.useContext=t.useContext||(i.methods[s]||{}).useContext,"function"==typeof i.methods[s]){r[s]=1,c=!h(i.methods[s]);const n={...t,avoidInlineAsync:!0},o=v(e[s],n);return t.useContext=t.useContext||n.useContext,c||o.includes("await")?(t.asyncDetected=t.asyncDetected||c,`await rAsync(gen["${s}"], async () => { return ${o} }, 'yield${t.yieldUsed}', resumable)`):`r(gen["${s}"], () => { return ${o} }, 'yield${t.yieldUsed}', resumable)`}if(i.methods[s]&&i.methods[s].traverse){r[s]=1,c=Boolean(o&&i.methods[s]&&i.methods[s].asyncMethod);const n={...t,avoidInlineAsync:!0},a=v(e[s],n);return t.useContext=t.useContext||n.useContext,c||a.startsWith("await")?(t.asyncDetected=t.asyncDetected||c,`await rAsync(gen["${s}"], async () => ${a}, 'yield${t.yieldUsed}', resumable)`):`r(gen["${s}"], () => ${a}, 'yield${t.yieldUsed}', resumable)`}return c=Boolean(o&&i.methods[s]&&i.methods[s].asyncMethod),r[s]=1,n.push(e[s]),t.useContext=!0,c?(t.asyncDetected=t.asyncDetected||c,`await rAsync(gen["${s}"], notTraversed[${n.length-1}], 'yield${t.yieldUsed}', resumable)`):`r(gen["${s}"], notTraversed[${n.length-1}], 'yield${t.yieldUsed}', resumable)`}(e,t);if(l.methods[g]&&l.methods[g].compile){const n=l.methods[g].compile(e[g],t);if((n||"").startsWith("await")&&(t.asyncDetected=!0),!1!==n)return n}if("function"==typeof l.methods[g])return r[g]=1,f=!h(l.methods[g]),y(`gen["${g}"](`+v(e[g],t)+")");if(l.methods[g]&&(void 0===l.methods[g].traverse||l.methods[g].traverse))return r[g]=1,f=Boolean(s&&l.methods[g]&&l.methods[g].asyncMethod),y(`gen["${g}"](`+v(e[g],t)+")");if(l.methods[g])if(s){if(l.methods[g].asyncBuild||l.methods[g].build){const n=(l.methods[g].asyncBuild||l.methods[g].build)(e[g],i,c,l,t);return o.push(n),f=!h(n),y(`methods[${o.length-1}]()`)}}else if(l.methods[g].build)return o.push(l.methods[g].build(e[g],i,c,l,t)),y(`methods[${o.length-1}]()`);return f=Boolean(s&&l.methods[g]&&l.methods[g].asyncMethod),r[g]=1,n.push(e[g]),y(`gen["${g}"](notTraversed[${n.length-1}])`)}return d(e)}function w(e,t={}){Object.assign(t,Object.assign({notTraversed:[],functions:{},methods:[],state:{},processing:[],async:t.engine.async,above:[],asyncDetected:!1,values:[]},t));return j(e,v(e,t),t)}function j(e,t,n){const r={},{functions:o,state:i,async:s,engine:c,above:a,methods:u,notTraversed:d,processing:h,values:p}=n;if(h.forEach(((e,n)=>{t=t.replace(`__%%%${n}%%%__`,e)})),Object.keys(o).forEach((e=>{if(2!==o[e]){if(!c.methods[e])throw new Error(`Method '${e}' was not found in the Logic Engine.`);if("function"==typeof c.methods[e]){const t=c.methods[e];r[e]=e=>t(e,i,a,c)}else if(s&&c.methods[e].asyncMethod){n.asyncDetected=!0;const t=c.methods[e].asyncMethod;r[e]=e=>t(e,i,a,c)}else{const t=c.methods[e].method;r[e]=e=>t(e,i,a,c)}}})),!Object.keys(o).length)return e;let m="state[Override] = context;";if(!n.useContext)for(m="";t.includes("state[Override]");)t=t.replace("state[Override]","context");const v=`(state, values, methods, gen, notTraversed, Override, asyncIterators, r, rAsync) => ${n.asyncDetected?"async":""} (context ${n.yieldUsed?", resumable = {}":""}) => { ${m} const result = ${t}; return result }`;return y(globalThis.eval(v)(i,p,u,r,d,f,l,g,b),!n.asyncDetected)}const A=(()=>{try{const e={};return void 0===globalThis.eval("(test) => test?.foo?.bar")(e)}catch{return!1}})();class O extends Error{constructor(e){super(),this.message="Built-in control structures are not allowed to receive dynamic inputs, this could allow a lesser version of remote-code execution.",this.input=e}}class ${constructor(e,t,n){this.arr=e,this.cur=t,this.nextCall=n,this.position=0,this._position=0,this.map=null}next(){const e=this.arr[this.position];this._position=this.position;const t=this.nextCall(this.cur,e,this.arr,this);return t instanceof o||t instanceof a?t:(this.position=this._position,this.cur=t,this.position++,this.cur)}skip(){this._position++}dump(){this._position=this.arr.length}result(){return this.cur}state(){return{arr:this.arr.splice(this.position),cur:this.cur}}done(){return this.position>=this.arr.length}}class x extends ${async next(){const e=this.arr[this.position];this._position=this.position;const t=await this.nextCall(this.cur,e,this.arr,this);return t instanceof o||t instanceof a?t:(this.position=this._position,this.cur=t,this.position++,this.cur)}}function M(e,t,n){if(Array.isArray(e))return e.every((e=>M(e,t,n)));if(e&&"object"==typeof e){const r=Object.keys(e)[0],o=e[r];return!1===t.methods[r].traverse?"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(o,n):t.methods[r].deterministic:"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(o,n):t.methods[r].deterministic&&M(o,t,n)}return!0}const _=(C="ifYield",S=(e,t,n,r)=>(e,o,i,s)=>{if(i.length%2==0&&i.push(null),!(1&s._position||s._position===i.length-1)){const e=r.run(o,t,{above:n});return e||s.skip(),e}return 1&s._position&&s.dump(),r.run(o,t,{above:n})},k=(e,t,n,r)=>async(e,o,i,s)=>{if(i.length%2==0&&i.push(null),!(1&s._position||s._position===i.length-1)){const e=await r.run(o,t,{above:n});return e||s.skip(),e}return 1&s._position&&s.dump(),r.run(o,t,{above:n})},{yields:!0,method:(e,t,n,r)=>{let i=e,s=null;Array.isArray(e)||(i=e.arr,s=e.cur);const c=S(e,t,n,r),a=new $(i,s,c);for(;!a.done();){const e=a.next();if(u(e))return new o({yield:e,_name:C,_input:a.state()})}return a.result()},asyncMethod:async(e,t,n,r)=>{let i=e,s=null;Array.isArray(e)||(i=e.arr,s=e.cur);const c=k(e,t,n,r),a=new x(i,s,c);for(;!a.done();){const e=await a.next();if(u(e))return new o({yield:e,_name:C,_input:a.state()})}return a.result()},traverse:!1});var C,S,k;const E=D("someYield",((e,t,n,r)=>(o,i,s,c)=>{const a=r.run(c.map,i,{above:[e,t,...n]});return!!a&&(c.dump(),a)}),((e,t,n,r)=>async(o,i,s,c)=>{const a=await r.run(c.map,i,{above:[e,t,...n]});return!!a&&(c.dump(),a)}),!1),P=D("everyYield",((e,t,n,r)=>(o,i,s,c)=>{const a=r.run(c.map,i,{above:[e,t,...n]});return a||(c.dump(),!1)}),((e,t,n,r)=>async(o,i,s,c)=>{const a=await r.run(c.map,i,{above:[e,t,...n]});return a||(c.dump(),!1)}),!0),I=D("filterYield",((e,t,n,r)=>(o,i,s,c)=>{const a=r.run(c.map,i,{above:[e,t,...n]});return u(a)?a:(a&&o.push(i),o)}),((e,t,n,r)=>async(o,i,s,c)=>{const a=await r.run(c.map,i,{above:[e,t,...n]});return u(a)?a:(a&&o.push(i),o)}),(()=>[])),R=D("mapYield",((e,t,n,r)=>(o,i,s,c)=>{const a=r.run(c.map,i,{above:[e,t,...n]});return u(a)?a:(o.push(a),o)}),((e,t,n,r)=>async(o,i,s,c)=>{const a=await r.run(c.map,i,{above:[e,t,...n]});return u(a)?a:(o.push(a),o)}),(()=>[])),T=D("reduceYield",((e,t,n,r)=>(o,i,s,c)=>r.run(c.map,{accumulator:o,current:i},{above:[e,t,...n]})),((e,t,n,r)=>async(o,i,s,c)=>r.run(c.map,{accumulator:o,current:i},{above:[e,t,...n]})));function D(e,t,n,r){const i={yields:!0,deterministic:(e,t)=>M(e[0],t.engine,t)&&M(e[1],t.engine,{...t,insideIterator:!0}),build:(e,t,n,r,o)=>(o.useContext=!0,y((()=>i.method(e,t,n,r)))),asyncBuild:(e,t,n,r,o)=>{o.useContext=!0;const[s,c]=e,a=w(s,{engine:r,async:!0,avoidInlineAsync:!0}),u=w(c,{engine:r,state:{},async:!0,avoidInlineAsync:!0});return h(a)&&h(u)?y((()=>i.method(e,t,n,r.fallback))):()=>i.asyncMethod(e,t,n,r)},method:(n,i,s,c)=>{let a,l,d=r;"function"==typeof r&&(d=r());let f=null;if(Array.isArray(n)){const[t,r,h]=n,y=c.run(t,i,{above:s})||[];if(u(y))return new o({_input:[t,r,h],_name:e,yields:y.yields()});a=y,f=r,l=0===h?0:h||d}else a=n.arr,l=n.cur,f=n.map;const h=t(n,i,s,c),y=new $(a,l,h);for(y.map=f;!y.done();){const t=y.next();if(u(t))return new o({yields:t.yields(),_name:e,_input:{...y.state(),map:f}})}return y.result()},asyncMethod:async(t,i,s,c)=>{let a,l,d=r;"function"==typeof r&&(d=r());let f=null;if(Array.isArray(t)){const[n,r,h]=t,y=await c.run(n,i,{above:s})||[];if(u(y))return new o({_name:e,_input:[n,r,h],yields:y.yields()});a=y,f=r,l=0===h?0:h||d}else a=t.arr,l=t.cur,f=t.map;const h=n(t,i,s,c),y=new x(a,l,h);for(y.map=f;!y.done();){const t=await y.next();if(u(t))return new o({yields:t.yields(),_name:e,_input:{...y.state(),map:f}})}return y.result()},traverse:!1};return i}const N={someYield:E,everyYield:P,filterYield:I,mapYield:R,reduceYield:T,ifYield:_};function L(e,t=".",n="\\"){const r=[];let o="";for(let i=0;i<e.length;i++){const s=e[i];s===n?e[i+1]===t?(o+=t,i++):e[i+1]===n?(o+=n,i++):o+=n:s===t?(r.push(o),o=""):o+=s}return r.push(o),r}function V(e,t,n){if(Array.isArray(e))return e.every((e=>V(e,t,n)));if(e&&"object"==typeof e){const r=Object.keys(e)[0],o=e[r];return!(t.methods[r]||!t.options.permissive)||(!1===t.methods[r].traverse?"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(o,n):t.methods[r].deterministic:"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(o,n):t.methods[r].deterministic&&V(o,t,n))}return!0}const U={"+":e=>[].concat(e).reduce(((e,t)=>+e+ +t),0),"*":e=>e.reduce(((e,t)=>+e*+t)),"/":e=>e.reduce(((e,t)=>+e/+t)),"-":e=>{return(t=[].concat(e),0&(1===t.length?t[0]=-t[0]:t)||t).reduce(((e,t)=>+e-+t));var t},"%":e=>e.reduce(((e,t)=>+e%+t)),max:e=>Math.max(...e),min:e=>Math.min(...e),in:([e,t])=>(t||[]).includes(e),">":([e,t])=>e>t,"<":([e,t,n])=>void 0===n?e<t:e<t&&t<n,preserve:{traverse:!1,method:y((e=>e))},if:{method:(e,t,n,r)=>{if(!Array.isArray(e))throw new O(e);if(e.length<2)throw new O(e);(e=[...e]).length%2!=1&&e.push(null);const o=e.pop();for(;e.length;){const o=e.shift(),i=e.shift();if(r.run(o,t,{above:n}))return r.run(i,t,{above:n})}return r.run(o,t,{above:n})},deterministic:(e,t)=>V(e,t.engine,t),asyncMethod:async(e,t,n,r)=>{if(!Array.isArray(e))throw new O(e);if(e.length<2)throw new O(e);(e=[...e]).length%2!=1&&e.push(null);const o=e.pop();for(;e.length;){const o=e.shift(),i=e.shift();if(await r.run(o,t,{above:n}))return r.run(i,t,{above:n})}return r.run(o,t,{above:n})},traverse:!1},"<=":([e,t,n])=>void 0===n?e<=t:e<=t&&t<=n,">=":([e,t])=>e>=t,"==":([e,t])=>e==t,"===":([e,t])=>e===t,"!=":([e,t])=>e!=t,"!==":([e,t])=>e!==t,xor:([e,t])=>e^t,or:e=>e.reduce(((e,t)=>e||t),!1),and:e=>e.reduce(((e,t)=>e&&t)),substr:([e,t,n])=>{if(n<0){const r=e.substr(t);return r.substr(0,r.length+n)}return e.substr(t,n)},length:e=>"string"==typeof e||Array.isArray(e)?e.length:e&&"object"==typeof e?Object.keys(e).length:0,get:{method:([e,t,n],r,o,i)=>{const s=void 0===n?null:n,c=L(String(t));for(let a=0;a<c.length;a++){if(null==e)return s;if(void 0===(e=e[c[a]]))return s}if(i.allowFunctions||"function"!=typeof e[t])return e}},var:(e,t,n,r)=>{let o;Array.isArray(e)&&(o=e[1],e=e[0]);let i=0;for(;"string"==typeof e&&e.startsWith("../")&&i<n.length;)t=n[i++],e=e.substring(3);t&&void 0!==t[f]&&(t=t[f]);const s=void 0===o?null:o;if(void 0===e||""===e||null===e)return r.allowFunctions||"function"!=typeof(t&&t[e])?t:null;const c=L(String(e));for(let a=0;a<c.length;a++){if(null==t)return s;if(void 0===(t=t[c[a]]))return s}return r.allowFunctions||"function"!=typeof(t&&t[e])?t:null},missing:(e,t,n,r)=>(Array.isArray(e)?e:[e]).filter((e=>null===U.var(e,t,n,r))),missing_some:([e,t],n,r,o)=>{const i=U.missing(t,n,r,o);return t.length-i.length>=e?[]:i},map:B("map"),some:B("some"),all:B("every"),none:{traverse:!1,method:(e,t,n,r)=>!U.some.method(e,t,n,r),asyncMethod:async(e,t,n,r)=>!await U.some.asyncMethod(e,t,n,r),compile:(e,t)=>{const n=`${U.some.compile(e,t)}`;return!!n&&`!(${n})`}},merge:e=>Array.isArray(e)?[].concat(...e):[e],every:B("every"),filter:B("filter"),reduce:{deterministic:(e,t)=>V(e[0],t.engine,t)&&V(e[1],t.engine,{...t,insideIterator:!0}),compile:(e,t)=>{if(!Array.isArray(e))throw new O(e);const{above:n=[],state:r,async:o}=t;let[i,s,c]=e;i=v(i,t),void 0!==c&&(c=v(c,t));const a={...t,state:{},above:[i,r,...n],avoidInlineAsync:!0};return s=w(s,a),t.useContext=t.useContext||a.useContext,t.methods.push(s),!o||h(s)&&!i.includes("await")?void 0!==c?`(${i} || []).reduce((a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }), ${c})`:`(${i} || []).reduce((a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }))`:(t.detectAsync=!0,void 0!==c?`await asyncIterators.reduce(${i} || [], (a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }), ${c})`:`await asyncIterators.reduce(${i} || [], (a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }))`)},method:(e,t,n,r)=>{if(!Array.isArray(e))throw new O(e);let[o,i,s]=e;s=r.run(s,t,{above:n}),o=r.run(o,t,{above:n})||[];const c=(e,s)=>r.run(i,{accumulator:e,current:s},{above:[o,t,...n]});return void 0===s?o.reduce(c):o.reduce(c,s)},asyncMethod:async(e,t,n,r)=>{if(!Array.isArray(e))throw new O(e);let[o,i,s]=e;return s=await r.run(s,t,{above:n}),o=await r.run(o,t,{above:n})||[],l.reduce(o,((e,s)=>r.run(i,{accumulator:e,current:s},{above:[o,t,...n]})),s)},traverse:!1},not:e=>!e,"!":e=>!e,"!!":e=>Boolean(e),cat:e=>"string"==typeof e?e:e.join(""),keys:e=>Object.keys(e),eachKey:{traverse:!1,method:(e,t,n,r)=>Object.keys(e).reduce(((o,i)=>{const s=e[i];return Object.defineProperty(o,i,{enumerable:!0,value:r.run(s,t,{above:n})}),o}),{}),useContext:!0,deterministic:(e,t)=>{if(e&&"object"==typeof e)return Object.values(e).every((e=>V(e,t.engine,t)));throw new O(e)},compile:(e,t)=>{if(e&&"object"==typeof e){return`({ ${Object.keys(e).reduce(((n,r)=>(n.push(`${JSON.stringify(r)}: ${v(e[r],t)}`),n)),[]).join(",")} })`}throw new O(e)},asyncMethod:async(e,t,n,r)=>await l.reduce(Object.keys(e),(async(o,i)=>{const s=e[i];return Object.defineProperty(o,i,{enumerable:!0,value:await r.run(s,t,{above:n})}),o}),{})}};function B(e){return{deterministic:(e,t)=>V(e[0],t.engine,t)&&V(e[1],t.engine,{...t,insideIterator:!0}),method:(t,n,r,o)=>{if(!Array.isArray(t))throw new O(t);let[i,s]=t;return i=o.run(i,n,{above:r})||[],i[e]((e=>o.run(s,e,{above:[i,n,...r]})))},asyncMethod:async(t,n,r,o)=>{if(!Array.isArray(t))throw new O(t);let[i,s]=t;return i=await o.run(i,n,{above:r})||[],l[e](i,(e=>o.run(s,e,{above:[i,n,...r]})))},compile:(t,n)=>{if(!Array.isArray(t))throw new O(t);const{above:r=[],state:o,async:i}=n;let[s,c]=t;s=v(s,n);const a={...n,state:{},above:[s,o,...r],avoidInlineAsync:!0};return c=w(c,a),n.useContext=n.useContext||a.useContext,n.methods.push(c),!i||h(c)&&!s.includes("await")?`(${s} || []).${e}(methods[${n.methods.length-1}])`:(n.detectAsync=!0,`await asyncIterators.${e}(${s} || [], methods[${n.methods.length-1}])`)},traverse:!1}}U["?:"]=U.if,Object.keys(U).forEach((e=>{"function"==typeof U[e]&&(U[e][d]=!0),U[e].deterministic=void 0===U[e].deterministic||U[e].deterministic})),U.var.deterministic=(e,t)=>t.insideIterator&&!String(e).includes("../"),Object.assign(U.var,{traverse:!1}),Object.assign(U.missing,{deterministic:!1,useContext:!0}),Object.assign(U.missing_some,{deterministic:!1,useContext:!0}),U["<"].compile=function(e,t){if(Array.isArray(e)){if(2===e.length)return"("+v(e[0],t)+" < "+v(e[1],t)+")";if(3===e.length){const n=v(e[0],t),r=v(e[1],t);return`${n} < ${r} && ${r} < ${v(e[2],t)}`}}return!1},U["<="].compile=function(e,t){if(Array.isArray(e)){if(2===e.length)return"("+v(e[0],t)+" <= "+v(e[1],t)+")";if(3===e.length){const n=v(e[0],t),r=v(e[1],t);return`${n} <= ${r} && ${r} <= ${v(e[2],t)}`}}return!1},U.min.compile=function(e,t){return!!Array.isArray(e)&&`Math.min(${e.map((e=>v(e,t))).join(", ")})`},U.max.compile=function(e,t){return!!Array.isArray(e)&&`Math.max(${e.map((e=>v(e,t))).join(", ")})`},U[">"].compile=function(e,t){return!(!Array.isArray(e)||2!==e.length)&&"("+v(e[0],t)+" > "+v(e[1],t)+")"},U[">="].compile=function(e,t){return!(!Array.isArray(e)||2!==e.length)&&"("+v(e[0],t)+" >= "+v(e[1],t)+")"},U["=="].compile=function(e,t){return!(!Array.isArray(e)||2!==e.length)&&"("+v(e[0],t)+" == "+v(e[1],t)+")"},U["!="].compile=function(e,t){return!(!Array.isArray(e)||2!==e.length)&&"("+v(e[0],t)+" != "+v(e[1],t)+")"},U.if.compile=function(e,t){if(Array.isArray(e)&&e.length>=3){(e=[...e]).length%2!=1&&e.push(null);const n=e.pop();let r="";for(;e.length;){const n=e.shift(),o=e.shift();r+=`(${v(n,t)}) ? ${v(o,t)} : `}return"("+r+`${v(n,t)})`}return!1},U["!=="].compile=function(e,t){return!(!Array.isArray(e)||2!==e.length)&&"("+v(e[0],t)+" !== "+v(e[1],t)+")"},U["==="].compile=function(e,t){return!(!Array.isArray(e)||2!==e.length)&&"("+v(e[0],t)+" === "+v(e[1],t)+")"},U["+"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${v(e,t)})`)).join(" + ")})`:"string"==typeof e||"number"==typeof e?`(+${v(e,t)})`:`([].concat(${v(e,t)})).reduce((a,b) => (+a)+(+b), 0)`},U["%"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${v(e,t)})`)).join(" % ")})`:`(${v(e,t)}).reduce((a,b) => (+a)%(+b))`},U.or.compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>v(e,t))).join(" || ")})`:`(${v(e,t)}).reduce((a,b) => a||b, false)`},U.in.compile=function(e,t){return!!Array.isArray(e)&&`(${v(e[1],t)} || []).includes(${v(e[0],t)})`},U.and.compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>v(e,t))).join(" && ")})`:`(${v(e,t)}).reduce((a,b) => a&&b, true)`},U["-"].compile=function(e,t){return Array.isArray(e)?`${1===e.length?"-":""}(${e.map((e=>`(+${v(e,t)})`)).join(" - ")})`:"string"==typeof e||"number"==typeof e?`(-${v(e,t)})`:`((a=>(a.length===1?a[0]=-a[0]:a)&0||a)([].concat(${v(e,t)}))).reduce((a,b) => (+a)-(+b))`},U["/"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${v(e,t)})`)).join(" / ")})`:`(${v(e,t)}).reduce((a,b) => (+a)/(+b))`},U["*"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${v(e,t)})`)).join(" * ")})`:`(${v(e,t)}).reduce((a,b) => (+a)*(+b))`},U.cat.compile=function(e,t){return"string"==typeof e?JSON.stringify(e):!!Array.isArray(e)&&`(${["",...e].map((e=>v(e,t))).join(" + ")})`},U.not.compile=U["!"].compile=function(e,t){return`(!(${v(e,t)}))`},U["!!"].compile=function(e,t){return`(!!(${v(e,t)}))`},U.none.deterministic=U.some.deterministic,U.get.compile=function(e,t){let n=null,r=e,o=null;if(Array.isArray(e)&&e.length<=3){if(o=e[0],r=e[1],n=void 0===e[2]?null:e[2],r&&"object"==typeof r)return!1;r=r.toString();const i=L(r);return A?`((${v(o,t)})${i.map((e=>`?.[${v(e,t)}]`)).join("")} ?? ${v(n,t)})`:`(((a,b) => (typeof a === 'undefined' || a === null) ? b : a)(${i.reduce(((e,t)=>`(${e}||0)[${JSON.stringify(t)}]`),`(${v(o,t)}||0)`)}, ${v(n,t)}))`}return!1},U.var.compile=function(e,t){let n=e,r=null;if(t.varTop=t.varTop||new Set,!n||"string"==typeof e||"number"==typeof e||Array.isArray(e)&&e.length<=2){if(Array.isArray(e)&&(n=e[0],r=void 0===e[1]?null:e[1]),null==n||""===n)return"state[Override]";if("string"!=typeof n&&"number"!=typeof n)return t.useContext=!0,!1;if(n=n.toString(),n.includes("../"))return t.useContext=!0,!1;const o=L(n),[i]=o;return t.varTop.add(i),A?`(context${o.map((e=>`?.[${JSON.stringify(e)}]`)).join("")} ?? ${v(r,t)})`:`(((a,b) => (typeof a === 'undefined' || a === null) ? b : a)(${o.reduce(((e,t)=>`(${e}||0)[${JSON.stringify(t)}]`),"(context||0)")}, ${v(r,t)}))`}return t.useContext=!0,!1};const Y={...U,...N},F=function(e){return Object.keys(e).forEach((t=>{void 0===e[t]&&delete e[t]})),e};class J{constructor(e=Y,t={yieldSupported:!1,disableInline:!1,permissive:!1}){this.disableInline=t.disableInline,this.methods={...e},this.options={...t}}_parse(e,t,n){const[r]=Object.keys(e),o=e[r];if(this.methods[r]){if("function"==typeof this.methods[r]){const e=this.run(o,t,{above:n});return this.options.yieldSupported&&u(e)?{result:e,func:r}:{result:this.methods[r](e,t,n,this),func:r}}if("object"==typeof this.methods[r]){const{method:e,traverse:i}=this.methods[r],s=void 0===i||i?this.run(o,t,{above:n}):o;return this.options.yieldSupported&&u(s)?{result:s,func:r}:{result:e(s,t,n,this),func:r}}}if(this.options.permissive)return{result:e,func:r};throw new Error(`Method '${r}' was not found in the Logic Engine.`)}addMethod(e,t,{deterministic:n,yields:r,useContext:o}={}){t="function"==typeof t?{method:t,traverse:!0}:{...t},Object.assign(t,F({yields:r,useContext:o,deterministic:n})),this.methods[e]=y(t)}addModule(e,t,n){Object.getOwnPropertyNames(t).forEach((r=>{"function"!=typeof t[r]&&"object"!=typeof t[r]||this.addMethod(`${e}${e?".":""}${r}`,t[r],n)}))}run(e,t={},n={}){const{above:r=[]}=n;if(Array.isArray(e)){const n=e.map((e=>this.run(e,t,{above:r})));return this.options.yieldSupported&&u(n)?new a({result:n}):n}if(e&&"object"==typeof e&&Object.keys(e).length>0){const{func:n,result:i}=this._parse(e,t,r);return this.options.yieldSupported&&u(i)?i instanceof o?(i._input&&(i._logic={[n]:i._input}),i._logic||(i._logic=e),i):new a({result:{[n]:i.data.result}}):i}return e}build(e,t={}){const{above:n=[],top:r=!0}=t;if(r){const t=w(e,{state:{},engine:this,above:n});return"function"==typeof t||!0===r?(...e)=>"function"==typeof t?t(...e):t:t}return e}}var z=n(2303),q=n(4848);function W(e){let{children:t,fallback:n}=e;return(0,z.A)()?(0,q.jsx)(q.Fragment,{children:t?.()}):n??null}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}function re(e){return{}.toString.call(e).includes("Object")}function oe(e){return"function"==typeof e}var ie=ne((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),se={changes:function(e,t){return re(t)||ie("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&ie("changeField"),t},selector:function(e){oe(e)||ie("selectorType")},handler:function(e){oe(e)||re(e)||ie("handlerType"),re(e)&&Object.values(e).some((function(e){return!oe(e)}))&&ie("handlersType")},initial:function(e){var t;e||ie("initialIsRequired"),re(e)||ie("initialType"),t=e,Object.keys(t).length||ie("initialContent")}};function ce(e,t){return oe(t)?t(e.current):t}function ae(e,t){return e.current=te(te({},e.current),t),t}function ue(e,t,n){return oe(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}const le={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};se.initial(e),se.handler(t);var n={current:e},r=ne(ue)(n,t),o=ne(ae)(n),i=ne(se.changes)(e),s=ne(ce)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return se.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(r,o,i,s)(e)}]}};const de={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};const fe=function(e){return{}.toString.call(e).includes("Object")};var he={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},ye=function(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))(he),pe={config:function(e){return e||ye("configIsRequired"),fe(e)||ye("configType"),e.urls?(console.warn(he.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const me=pe;const ge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const be=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),H(H({},t),n)};var ve={type:"cancelation",msg:"operation is manually canceled"};const we=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(ve):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n};var je,Ae,Oe=le.create({config:de,isInitialized:!1,resolve:null,reject:null,monaco:null}),$e=(Ae=2,function(e){if(Array.isArray(e))return e}(je=Oe)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){o=!0,i=a}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(je,Ae)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(je,Ae)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),xe=$e[0],Me=$e[1];function _e(e){return document.body.appendChild(e)}function Ce(e){var t,n,r=xe((function(e){return{config:e.config,reject:e.reject}})),o=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return o.onload=function(){return e()},o.onerror=r.reject,o}function Se(){var e=xe((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){ke(t),e.resolve(t)}),(function(t){e.reject(t)}))}function ke(e){xe().monaco||Me({monaco:e})}var Ee=new Promise((function(e,t){return Me({resolve:e,reject:t})})),Pe={config:function(e){var t=me.config(e),n=t.monaco,r=Q(t,["monaco"]);Me((function(e){return{config:be(e.config,r),monaco:n}}))},init:function(){var e=xe((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(Me({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),we(Ee);if(window.monaco&&window.monaco.editor)return ke(window.monaco),e.resolve(window.monaco),we(Ee);ge(_e,Ce)(Se)}return we(Ee)},__getMonacoInstance:function(){return xe((function(e){return e.monaco}))}};const Ie=Pe;var Re={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Te={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var De=function({children:e}){return r.createElement("div",{style:Te.container},e)};var Ne=function({width:e,height:t,isEditorReady:n,loading:o,_ref:i,className:s,wrapperProps:c}){return r.createElement("section",{style:{...Re.wrapper,width:e,height:t},...c},!n&&r.createElement(De,null,o),r.createElement("div",{ref:i,style:{...Re.fullWidth,...!n&&Re.hide},className:s}))},Le=(0,r.memo)(Ne);var Ve=function(e){(0,r.useEffect)(e,[])};var Ue=function(e,t,n=!0){let o=(0,r.useRef)(!0);(0,r.useEffect)(o.current||!n?()=>{o.current=!1}:e,t)};function Be(){}function Ye(e,t,n,r){return function(e,t){return e.editor.getModel(Fe(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?Fe(e,r):void 0)}(e,t,n,r)}function Fe(e,t){return e.Uri.parse(t)}var Je=function({original:e,modified:t,language:n,originalLanguage:o,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:c,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:u=!1,theme:l="light",loading:d="Loading...",options:f={},height:h="100%",width:y="100%",className:p,wrapperProps:m={},beforeMount:g=Be,onMount:b=Be}){let[v,w]=(0,r.useState)(!1),[j,A]=(0,r.useState)(!0),O=(0,r.useRef)(null),$=(0,r.useRef)(null),x=(0,r.useRef)(null),M=(0,r.useRef)(b),_=(0,r.useRef)(g),C=(0,r.useRef)(!1);Ve((()=>{let e=Ie.init();return e.then((e=>($.current=e)&&A(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>O.current?function(){let e=O.current?.getModel();a||e?.original?.dispose(),u||e?.modified?.dispose(),O.current?.dispose()}():e.cancel()})),Ue((()=>{if(O.current&&$.current){let t=O.current.getOriginalEditor(),r=Ye($.current,e||"",o||n||"text",s||"");r!==t.getModel()&&t.setModel(r)}}),[s],v),Ue((()=>{if(O.current&&$.current){let e=O.current.getModifiedEditor(),r=Ye($.current,t||"",i||n||"text",c||"");r!==e.getModel()&&e.setModel(r)}}),[c],v),Ue((()=>{let e=O.current.getModifiedEditor();e.getOption($.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],v),Ue((()=>{O.current?.getModel()?.original.setValue(e||"")}),[e],v),Ue((()=>{let{original:e,modified:t}=O.current.getModel();$.current.editor.setModelLanguage(e,o||n||"text"),$.current.editor.setModelLanguage(t,i||n||"text")}),[n,o,i],v),Ue((()=>{$.current?.editor.setTheme(l)}),[l],v),Ue((()=>{O.current?.updateOptions(f)}),[f],v);let S=(0,r.useCallback)((()=>{if(!$.current)return;_.current($.current);let r=Ye($.current,e||"",o||n||"text",s||""),a=Ye($.current,t||"",i||n||"text",c||"");O.current?.setModel({original:r,modified:a})}),[n,t,i,e,o,s,c]),k=(0,r.useCallback)((()=>{!C.current&&x.current&&(O.current=$.current.editor.createDiffEditor(x.current,{automaticLayout:!0,...f}),S(),$.current?.editor.setTheme(l),w(!0),C.current=!0)}),[f,l,S]);return(0,r.useEffect)((()=>{v&&M.current(O.current,$.current)}),[v]),(0,r.useEffect)((()=>{!j&&!v&&k()}),[j,v,k]),r.createElement(Le,{width:y,height:h,isEditorReady:v,loading:d,_ref:x,className:p,wrapperProps:m})};(0,r.memo)(Je);var ze=function(e){let t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current},qe=new Map;var We=function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:o,language:i,path:s,theme:c="light",line:a,loading:u="Loading...",options:l={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:h=!1,width:y="100%",height:p="100%",className:m,wrapperProps:g={},beforeMount:b=Be,onMount:v=Be,onChange:w,onValidate:j=Be}){let[A,O]=(0,r.useState)(!1),[$,x]=(0,r.useState)(!0),M=(0,r.useRef)(null),_=(0,r.useRef)(null),C=(0,r.useRef)(null),S=(0,r.useRef)(v),k=(0,r.useRef)(b),E=(0,r.useRef)(),P=(0,r.useRef)(o),I=ze(s),R=(0,r.useRef)(!1),T=(0,r.useRef)(!1);Ve((()=>{let e=Ie.init();return e.then((e=>(M.current=e)&&x(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>_.current?(E.current?.dispose(),h?f&&qe.set(s,_.current.saveViewState()):_.current.getModel()?.dispose(),void _.current.dispose()):e.cancel()})),Ue((()=>{let r=Ye(M.current,e||o||"",t||i||"",s||n||"");r!==_.current?.getModel()&&(f&&qe.set(I,_.current?.saveViewState()),_.current?.setModel(r),f&&_.current?.restoreViewState(qe.get(s)))}),[s],A),Ue((()=>{_.current?.updateOptions(l)}),[l],A),Ue((()=>{!_.current||void 0===o||(_.current.getOption(M.current.editor.EditorOption.readOnly)?_.current.setValue(o):o!==_.current.getValue()&&(T.current=!0,_.current.executeEdits("",[{range:_.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),_.current.pushUndoStop(),T.current=!1))}),[o],A),Ue((()=>{let e=_.current?.getModel();e&&i&&M.current?.editor.setModelLanguage(e,i)}),[i],A),Ue((()=>{void 0!==a&&_.current?.revealLine(a)}),[a],A),Ue((()=>{M.current?.editor.setTheme(c)}),[c],A);let D=(0,r.useCallback)((()=>{if(C.current&&M.current&&!R.current){k.current(M.current);let r=s||n,u=Ye(M.current,o||e||"",t||i||"",r||"");_.current=M.current?.editor.create(C.current,{model:u,automaticLayout:!0,...l},d),f&&_.current.restoreViewState(qe.get(r)),M.current.editor.setTheme(c),void 0!==a&&_.current.revealLine(a),O(!0),R.current=!0}}),[e,t,n,o,i,s,l,d,f,c,a]);return(0,r.useEffect)((()=>{A&&S.current(_.current,M.current)}),[A]),(0,r.useEffect)((()=>{!$&&!A&&D()}),[$,A,D]),P.current=o,(0,r.useEffect)((()=>{A&&w&&(E.current?.dispose(),E.current=_.current?.onDidChangeModelContent((e=>{T.current||w(_.current.getValue(),e)})))}),[A,w]),(0,r.useEffect)((()=>{if(A){let e=M.current.editor.onDidChangeMarkers((e=>{let t=_.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=M.current.editor.getModelMarkers({resource:t});j?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[A,j]),r.createElement(Le,{width:y,height:p,isEditorReady:A,loading:u,_ref:C,className:m,wrapperProps:g})},Ke=(0,r.memo)(We),Ge=n(8193);const He=new J;if(Ge.A.canUseDOM){const e=window.ResizeObserver;window.ResizeObserver=function(t){return new e(((e,n)=>{window.requestAnimationFrame((()=>{t(e,n)}))}))};for(let t in e)e.hasOwnProperty(t)&&(window.ResizeObserver[t]=e[t])}function Qe(e){let{defaultLogic:t="",defaultData:n=""}=e;const[o,i]=(0,r.useState)(t),[s,c]=(0,r.useState)(n),[a,u]=(0,r.useState)(""),[l,d]=(r.useRef(null),(0,r.useState)({built:()=>{}}));function f(){u(l.built(s))}return(0,r.useEffect)((()=>{try{d({built:He.build(o)})}catch(e){}}),[o]),(0,r.useEffect)((()=>{(a??"").toString()||f()}),[l]),"undefined"!=typeof window?(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(W,{children:()=>(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("b",{children:"Logic:"}),(0,q.jsx)(Ke,{options:{minimap:{enabled:!1}},height:"180px",className:"editor",defaultLanguage:"json",defaultValue:JSON.stringify(o,void 0,2),onChange:e=>{try{i(JSON.parse(e))}catch(t){}}}),(0,q.jsx)("br",{}),(0,q.jsx)("b",{children:"Data:"}),(0,q.jsx)(Ke,{options:{minimap:{enabled:!1}},className:"editor",height:"140px",defaultLanguage:"json",defaultValue:JSON.stringify(s,void 0,4),onChange:e=>{try{c(JSON.parse(e))}catch(t){}}}),(0,q.jsx)("br",{}),(0,q.jsx)("button",{className:"btn btn-secondary",onClick:f,children:"Execute"})," ",(0,q.jsx)("br",{}),"Output: ",(0,q.jsx)("br",{}),(0,q.jsx)("code",{children:JSON.stringify(a)})]})})}):null}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var r=n(6540);const o={},i=r.createContext(o);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);