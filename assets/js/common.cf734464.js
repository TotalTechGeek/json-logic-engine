"use strict";(self.webpackChunkjson_logic_engine_documentation=self.webpackChunkjson_logic_engine_documentation||[]).push([[76],{9126:(e,t,n)=>{n.d(t,{A:()=>Je});var r=n(6540);async function i(e,t){const n=[];let r=0;for(const i of e)n.push(await t(i,r++));return n}const o={filter:async function(e,t){const n=[];let r=0;for(const i of e)await t(i,r++)&&n.push(i);return n},some:async function(e,t){let n=0;for(const r of e)if(await t(r,n++))return!0;return!1},every:async function(e,t){let n=0;for(const r of e)if(!await t(r,n++))return!1;return!0},map:i,reduce:async function(e,t,n){if(0===e.length){if(void 0!==n)return n;throw new Error("Array has no elements.")}const r=void 0===n?1:0;let i=r?e[0]:n;for(let o=r;o<e.length;o++)i=await t(i,e[o]);return i}},a=Symbol.for("json_logic_sync"),s=Symbol.for("json_logic_compiled");Symbol.for("json_logic_efficientTop");function c(e){return"function"==typeof e?!0===e[a]:Array.isArray(e)?e.every(c):!(e&&e.asyncMethod&&!e.method)}function u(e,t=!0){return e[a]=t,e}function l(e,t=!1){return t||Array.isArray(e)?e:[e]}function f(e,...t){let n="";const r=this;for(let i=0;i<e.length;i++)n+=e[i],i<t.length&&("function"==typeof t[i]?(this.methods.push(t[i]),c(t[i])||(r.asyncDetected=!0),n+=(c(t[i])?"":" await ")+"methods["+(r.methods.length-1)+"]"):t[i]&&void 0!==t[i][s]?n+=t[i][s]:n+=p(t[i],r));return{[s]:n}}function d(e,t,n){if(Array.isArray(e))return e.every((e=>d(e,t,n)));if(e&&"object"==typeof e){const r=Object.keys(e)[0],i=e[r];if(t.isData(e,r))return!0;if(void 0===i)return!0;if(!t.methods[r])throw new Error(`Method '${r}' was not found in the Logic Engine.`);return!1===t.methods[r].traverse?"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(i,n):t.methods[r].deterministic:"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(i,n):t.methods[r].deterministic&&d(i,t,n)}return!0}function h(e,t){if(!t.async)return!0;if(Array.isArray(e))return e.every((e=>h(e,t)));if("object"==typeof e){const n=Object.keys(e)[0],r=e[n];return!!c(t.methods[n])&&(!1===t.methods[n].traverse?!("function"!=typeof t.methods[n][a]||!t.methods[n][a](e,{engine:t})):h(r,t))}return!0}function p(e,t={}){const{notTraversed:n=[],async:r,processing:i=[],values:o=[],engine:a}=t;function u(e,t=!1){return function(e,t){return("number"!=typeof e||e!==1/0&&e!==-1/0&&!Number.isNaN(e))&&(null==e||["Number","String","Boolean"].includes(e.constructor.name)||!t&&"Object"===e.constructor.name)}(e,t)?JSON.stringify(e):(o.push(e),`values[${o.length-1}]`)}if(Array.isArray(e)){let n="";for(let r=0;r<e.length;r++)r>0&&(n+=","),n+=p(e[r],t);return"["+n+"]"}let l=!1;function f(e){return t.asyncDetected=t.asyncDetected||l,r&&l?`await ${e}`:e}const y=e&&Object.keys(e)[0];if(e&&"object"==typeof e){if(!y)return u(e);if(!a.methods[y]){if(a.isData(e,y))return u(e,!0);throw new Error(`Method '${y}' was not found in the Logic Engine.`)}if(!t.engine.disableInline&&a.methods[y]&&d(e,a,t))return h(e,a)?u((a.fallback||a).run(e),!0):t.avoidInlineAsync?(t.asyncDetected=!0,`(await ${u(a.run(e))})`):(i.push(a.run(e).then((e=>u(e)))),`__%%%${i.length-1}%%%__`);let o=e[y];if(o&&"object"==typeof o||(o=[o]),a.methods[y]&&a.methods[y].compile){let e=a.methods[y].compile(o,t);if(e[s]&&(e=e[s]),(e||"").startsWith("await")&&(t.asyncDetected=!0),!1!==e)return e}let m=a.methods[y].optimizeUnary?"":"coerceArray";return!m&&Array.isArray(o)&&1===o.length?o=o[0]:m&&Array.isArray(o)&&(m=""),"function"==typeof a.methods[y]?(l=!c(a.methods[y]),f(`engine.methods["${y}"](${m}(`+p(o,t)+"), context, above, engine)")):a.methods[y]&&(void 0===a.methods[y].traverse||a.methods[y].traverse)?(l=Boolean(r&&a.methods[y]&&a.methods[y].asyncMethod),f(`engine.methods["${y}"]${l?".asyncMethod":".method"}(${m}(`+p(o,t)+"), context, above, engine)")):(l=Boolean(r&&a.methods[y]&&a.methods[y].asyncMethod),n.push(o),f(`engine.methods["${y}"]${l?".asyncMethod":".method"}(notTraversed[${n.length-1}], context, above, engine)`))}return u(e)}function y(e,t={}){Object.assign(t,Object.assign({notTraversed:[],methods:[],state:{},processing:[],async:t.engine.async,asyncDetected:!1,values:[],compile:f},t));return g(e,p(e,t),t)}async function m(e,t={}){Object.assign(t,Object.assign({notTraversed:[],methods:[],state:{},processing:[],async:t.engine.async,asyncDetected:!1,values:[],compile:f},t));const n=p(e,t);return t.processing=await Promise.all(t.processing||[]),g(e,n,t)}function g(e,t,n){const{engine:r,methods:i,notTraversed:a,processing:s=[],values:c}=n;s.forEach(((e,n)=>{t=t.replace(`__%%%${n}%%%__`,e)}));const f=`(values, methods, notTraversed, asyncIterators, engine, above, coerceArray) => ${n.asyncDetected?"async":""} (context ${n.extraArguments?","+n.extraArguments:""}) => { const result = ${t}; return result }`;return u(("undefined"!=typeof globalThis?globalThis:global).eval(f)(c,i,a,o,r,[],l),!n.asyncDetected)}const b=(()=>{try{const e={};return void 0===("undefined"!=typeof globalThis?globalThis:global).eval("(test) => test?.foo?.bar")(e)}catch(e){return!1}})();class v extends Error{constructor(e){super(),this.message="Built-in control structures are not allowed to receive dynamic inputs, this could allow a lesser version of remote-code execution.",this.input=e}}const w=new Map;function j(e){if(w.has(e))return w.get(e);w.size>2048&&w.clear();const t=A(e);return w.set(e,t),t}function A(e,t=".",n="\\",r="/"){const i=[];let o="";for(let a=0;a<e.length;a++){const s=e[a];s===n?e[a+1]===t||e[a+1]===r?(o+=e[a+1],a++):e[a+1]===n?(o+=n,a++):o+=n:s===t?(i.push(o),o=""):o+=s}return i.length!==e.length&&i.push(o),i}function O(e,t,n){if(Array.isArray(e))return e.every((e=>O(e,t,n)));if(e&&"object"==typeof e){const r=Object.keys(e)[0],i=e[r];if(t.isData(e,r))return!0;if(!t.methods[r])throw new Error(`Method '${r}' was not found in the Logic Engine.`);return!1===t.methods[r].traverse?"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(i,n):t.methods[r].deterministic:"function"==typeof t.methods[r].deterministic?t.methods[r].deterministic(i,n):t.methods[r].deterministic&&O(i,t,n)}return!0}function $(e,t,n){if(Array.isArray(e))return e.every((e=>$(e,t,n)));if(e&&"object"==typeof e){const r=Object.keys(e)[0],i=e[r];if(t.isData(e,r))return!0;if(!t.methods[r])throw new Error(`Method '${r}' was not found in the Logic Engine.`);return!1===t.methods[r].traverse?"function"==typeof t.methods[r][a]?t.methods[r][a](i,n):t.methods[r][a]:"function"==typeof t.methods[r][a]?t.methods[r][a](i,n):t.methods[r][a]&&$(i,t,n)}return!0}const M={"+":e=>{if("string"==typeof e)return+e;if("number"==typeof e)return+e;let t=0;for(let n=0;n<e.length;n++)t+=+e[n];return t},"*":e=>{let t=1;for(let n=0;n<e.length;n++)t*=+e[n];return t},"/":e=>{let t=e[0];for(let n=1;n<e.length;n++)t/=+e[n];return t},"-":e=>{if("string"==typeof e)return-e;if("number"==typeof e)return-e;if(1===e.length)return-e[0];let t=e[0];for(let n=1;n<e.length;n++)t-=+e[n];return t},"%":e=>{let t=e[0];for(let n=1;n<e.length;n++)t%=+e[n];return t},max:e=>Math.max(...e),min:e=>Math.min(...e),in:([e,t])=>(t||[]).includes(e),">":([e,t])=>e>t,"<":([e,t,n])=>void 0===n?e<t:e<t&&t<n,preserve:{traverse:!1,method:u((e=>e),!0),[a]:()=>!0},if:{method:(e,t,n,r)=>{if(!Array.isArray(e))throw new v(e);if(1===e.length)return r.run(e[0],t,{above:n});if(e.length<2)return null;(e=[...e]).length%2!=1&&e.push(null);const i=e.pop();for(;e.length;){const i=e.shift(),o=e.shift(),a=r.run(i,t,{above:n});if(r.truthy(a))return r.run(o,t,{above:n})}return r.run(i,t,{above:n})},[a]:(e,t)=>$(e,t.engine,t),deterministic:(e,t)=>O(e,t.engine,t),asyncMethod:async(e,t,n,r)=>{if(!Array.isArray(e))throw new v(e);if(1===e.length)return r.run(e[0],t,{above:n});if(e.length<2)return null;(e=[...e]).length%2!=1&&e.push(null);const i=e.pop();for(;e.length;){const i=e.shift(),o=e.shift(),a=await r.run(i,t,{above:n});if(r.truthy(a))return r.run(o,t,{above:n})}return r.run(i,t,{above:n})},traverse:!1},"<=":([e,t,n])=>void 0===n?e<=t:e<=t&&t<=n,">=":([e,t])=>e>=t,"==":([e,t])=>e==t,"===":([e,t])=>e===t,"!=":([e,t])=>e!=t,"!==":([e,t])=>e!==t,xor:([e,t])=>e^t,or:(e,t,n,r)=>{for(let i=0;i<e.length;i++)if(r.truthy(e[i]))return e[i];return e[e.length-1]},and:(e,t,n,r)=>{for(let i=0;i<e.length;i++)if(!r.truthy(e[i]))return e[i];return e[e.length-1]},substr:([e,t,n])=>{if(n<0){const r=e.substr(t);return r.substr(0,r.length+n)}return e.substr(t,n)},length:([e])=>"string"==typeof e||Array.isArray(e)?e.length:e&&"object"==typeof e?Object.keys(e).length:0,get:{method:([e,t,n],r,i,o)=>{const a=void 0===n?null:n,s=j(String(t));for(let c=0;c<s.length;c++){if(null==e)return a;if(void 0===(e=e[s[c]]))return a}if(o.allowFunctions||"function"!=typeof e[t])return e}},var:(e,t,n,r)=>{let i;Array.isArray(e)&&(i=e[1],e=e[0]);let o=0;for(;"string"==typeof e&&e.startsWith("../")&&o<n.length;)t=n[o++],e=e.substring(3),o===n.length&&Array.isArray(t)&&(o=0,t=(n=t)[o++]);const a=void 0===i?null:i;if(void 0===e||""===e||null===e)return r.allowFunctions||"function"!=typeof t?t:null;const s=j(String(e));for(let c=0;c<s.length;c++){if(null==t)return a;if(void 0===(t=t[s[c]]))return a}return r.allowFunctions||"function"!=typeof t?t:null},missing:(e,t,n,r)=>(Array.isArray(e)?e:[e]).filter((e=>null===M.var(e,t,n,r))),missing_some:([e,t],n,r,i)=>{const o=M.missing(t,n,r,i);return t.length-o.length>=e?[]:o},map:x("map"),some:x("some",!0),all:x("every",!0),none:{traverse:!1,method:(e,t,n,r)=>!M.some.method(e,t,n,r),asyncMethod:async(e,t,n,r)=>!await M.some.asyncMethod(e,t,n,r),compile:(e,t)=>{const n=M.some.compile(e,t);return!!n&&t.compile`!(${n})`}},merge:e=>Array.isArray(e)?[].concat(...e):[e],every:x("every"),filter:x("filter"),reduce:{deterministic:(e,t)=>O(e[0],t.engine,t)&&O(e[1],t.engine,{...t,insideIterator:!0}),compile:(e,t)=>{if(!Array.isArray(e))throw new v(e);const{async:n}=t;let[r,i,o]=e;r=p(r,t),void 0!==o&&(o=p(o,t));return i=y(i,{...t,extraArguments:"above",avoidInlineAsync:!0}),t.methods.push(i),!n||c(i)&&!r.includes("await")?void 0!==o?`(${r} || []).reduce((a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, [null, context, above]), ${o})`:`(${r} || []).reduce((a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, [null, context, above]))`:(t.detectAsync=!0,void 0!==o?`await asyncIterators.reduce(${r} || [], (a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, [null, context, above]), ${o})`:`await asyncIterators.reduce(${r} || [], (a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, [null, context, above]))`)},method:(e,t,n,r)=>{if(!Array.isArray(e))throw new v(e);let[i,o,a]=e;a=r.run(a,t,{above:n}),i=r.run(i,t,{above:n})||[];const s=(e,a)=>r.run(o,{accumulator:e,current:a},{above:[i,t,n]});return void 0===a?i.reduce(s):i.reduce(s,a)},[a]:(e,t)=>$(e,t.engine,t),asyncMethod:async(e,t,n,r)=>{if(!Array.isArray(e))throw new v(e);let[i,a,s]=e;return s=await r.run(s,t,{above:n}),i=await r.run(i,t,{above:n})||[],o.reduce(i,((e,o)=>r.run(a,{accumulator:e,current:o},{above:[i,t,n]})),s)},traverse:!1},"!":(e,t,n,r)=>Array.isArray(e)?!r.truthy(e[0]):!r.truthy(e),"!!":(e,t,n,r)=>Boolean(Array.isArray(e)?r.truthy(e[0]):r.truthy(e)),cat:e=>{if("string"==typeof e)return e;let t="";for(let n=0;n<e.length;n++)t+=e[n];return t},keys:([e])=>"object"==typeof e?Object.keys(e):[],pipe:{traverse:!1,[a]:(e,t)=>$(e,t.engine,t),method:(e,t,n,r)=>{if(!Array.isArray(e))throw new Error("Data for pipe must be an array");let i=r.run(e[0],t,{above:[e,t,n]});for(let o=1;o<e.length;o++)i=r.run(e[o],i,{above:[e,t,n]});return i},asyncMethod:async(e,t,n,r)=>{if(!Array.isArray(e))throw new Error("Data for pipe must be an array");let i=await r.run(e[0],t,{above:[e,t,n]});for(let o=1;o<e.length;o++)i=await r.run(e[o],i,{above:[e,t,n]});return i},compile:(e,t)=>{let n=t.compile`${e[0]}`;for(let r=1;r<e.length;r++)n=t.compile`${y(e[r],{...t,extraArguments:"above"})}(${n}, [null, context, above])`;return n},deterministic:(e,t)=>{if(!Array.isArray(e))return!1;return O((e=[...e]).shift(),t.engine,t)&&O(e,t.engine,{...t,insideIterator:!0})}},eachKey:{traverse:!1,[a]:(e,t)=>$(Object.values(e[Object.keys(e)[0]]),t.engine,t),method:(e,t,n,r)=>Object.keys(e).reduce(((i,o)=>{const a=e[o];return Object.defineProperty(i,o,{enumerable:!0,value:r.run(a,t,{above:n})}),i}),{}),deterministic:(e,t)=>{if(e&&"object"==typeof e)return Object.values(e).every((e=>O(e,t.engine,t)));throw new v(e)},compile:(e,t)=>{if(e&&"object"==typeof e){return`({ ${Object.keys(e).reduce(((n,r)=>(n.push(`${JSON.stringify(r)}: ${p(e[r],t)}`),n)),[]).join(",")} })`}throw new v(e)},asyncMethod:async(e,t,n,r)=>await o.reduce(Object.keys(e),(async(i,o)=>{const a=e[o];return Object.defineProperty(i,o,{enumerable:!0,value:await r.run(a,t,{above:n})}),i}),{})}};function x(e,t=!1){return{deterministic:(e,t)=>O(e[0],t.engine,t)&&O(e[1],t.engine,{...t,insideIterator:!0}),[a]:(e,t)=>$(e,t.engine,t),method:(n,r,i,o)=>{if(!Array.isArray(n))throw new v(n);let[a,s]=n;return a=o.run(a,r,{above:i})||[],a[e](((e,n)=>{const c=o.run(s,e,{above:[{item:a,index:n},r,i]});return t?o.truthy(c):c}))},asyncMethod:async(n,r,i,a)=>{if(!Array.isArray(n))throw new v(n);let[s,c]=n;return s=await a.run(s,r,{above:i})||[],o[e](s,((e,n)=>{const o=a.run(c,e,{above:[{item:s,index:n},r,i]});return t?a.truthy(o):o}))},compile:(t,n)=>{if(!Array.isArray(t))throw new v(t);const{async:r}=n,[i,o]=t,a={...n,avoidInlineAsync:!0,iteratorCompile:!0,extraArguments:"index, above"};return r&&!$(o,n.engine,n)?(n.detectAsync=!0,n.compile`await asyncIterators[${e}](${i} || [], async (i, x) => ${y(o,a)}(i, x, [{ item: null }, context, above]))`):n.compile`(${i} || [])[${e}]((i, x) => ${y(o,a)}(i, x, [{ item: null }, context, above]))`},traverse:!1}}M["?:"]=M.if,Object.keys(M).forEach((e=>{"function"==typeof M[e]&&(M[e][a]=!0),M[e].deterministic=void 0===M[e].deterministic||M[e].deterministic})),M.var.deterministic=(e,t)=>t.insideIterator&&!String(e).includes("../../"),Object.assign(M.missing,{deterministic:!1}),Object.assign(M.missing_some,{deterministic:!1}),M["<"].compile=function(e,t){return!!Array.isArray(e)&&(2===e.length?t.compile`(${e[0]} < ${e[1]})`:3===e.length&&t.compile`(${e[0]} < ${e[1]} && ${e[1]} < ${e[2]})`)},M["<="].compile=function(e,t){return!!Array.isArray(e)&&(2===e.length?t.compile`(${e[0]} <= ${e[1]})`:3===e.length&&t.compile`(${e[0]} <= ${e[1]} && ${e[1]} <= ${e[2]})`)},M.min.compile=function(e,t){return!!Array.isArray(e)&&`Math.min(${e.map((e=>p(e,t))).join(", ")})`},M.max.compile=function(e,t){return!!Array.isArray(e)&&`Math.max(${e.map((e=>p(e,t))).join(", ")})`},M[">"].compile=function(e,t){return!!Array.isArray(e)&&(2===e.length&&t.compile`(${e[0]} > ${e[1]})`)},M[">="].compile=function(e,t){return!!Array.isArray(e)&&(2===e.length&&t.compile`(${e[0]} >= ${e[1]})`)},M["=="].compile=function(e,t){return!!Array.isArray(e)&&(2===e.length&&t.compile`(${e[0]} == ${e[1]})`)},M["!="].compile=function(e,t){return!!Array.isArray(e)&&(2===e.length&&t.compile`(${e[0]} != ${e[1]})`)},M.if.compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<3)return!1;(e=[...e]).length%2!=1&&e.push(null);const n=e.pop();let r=t.compile``;for(;e.length;){const n=e.shift(),i=e.shift();r=t.compile`${r} engine.truthy(${n}) ? ${i} : `}return t.compile`(${r} ${n})`},M["==="].compile=function(e,t){return!!Array.isArray(e)&&(2===e.length&&t.compile`(${e[0]} === ${e[1]})`)},M["+"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${p(e,t)})`)).join(" + ")})`:"string"==typeof e||"number"==typeof e?`(+${p(e,t)})`:`([].concat(${p(e,t)})).reduce((a,b) => (+a)+(+b), 0)`},M["%"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${p(e,t)})`)).join(" % ")})`:`(${p(e,t)}).reduce((a,b) => (+a)%(+b))`},M.or.compile=function(e,t){return!!t.engine.truthy.IDENTITY&&(Array.isArray(e)?`(${e.map((e=>p(e,t))).join(" || ")})`:`(${p(e,t)}).reduce((a,b) => a||b, false)`)},M.in.compile=function(e,t){return!!Array.isArray(e)&&t.compile`(${e[1]} || []).includes(${e[0]})`},M.and.compile=function(e,t){return!!t.engine.truthy.IDENTITY&&(Array.isArray(e)?`(${e.map((e=>p(e,t))).join(" && ")})`:`(${p(e,t)}).reduce((a,b) => a&&b, true)`)},M["-"].compile=function(e,t){return Array.isArray(e)?`${1===e.length?"-":""}(${e.map((e=>`(+${p(e,t)})`)).join(" - ")})`:"string"==typeof e||"number"==typeof e?`(-${p(e,t)})`:`((a=>(a.length===1?a[0]=-a[0]:a)&0||a)([].concat(${p(e,t)}))).reduce((a,b) => (+a)-(+b))`},M["/"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${p(e,t)})`)).join(" / ")})`:`(${p(e,t)}).reduce((a,b) => (+a)/(+b))`},M["*"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${p(e,t)})`)).join(" * ")})`:`(${p(e,t)}).reduce((a,b) => (+a)*(+b))`},M.cat.compile=function(e,t){if("string"==typeof e)return JSON.stringify(e);if(!Array.isArray(e))return!1;let n=t.compile`''`;for(let r=0;r<e.length;r++)n=t.compile`${n} + ${e[r]}`;return t.compile`(${n})`},M["!"].compile=function(e,t){return Array.isArray(e)?t.compile`(!engine.truthy(${e[0]}))`:t.compile`(!engine.truthy(${e}))`},M.not=M["!"],M["!!"].compile=function(e,t){return Array.isArray(e)?t.compile`(!!engine.truthy(${e[0]}))`:`(!!engine.truthy(${e}))`},M.none.deterministic=M.some.deterministic,M.get.compile=function(e,t){let n=null,r=e,i=null;if(Array.isArray(e)&&e.length<=3){if(i=e[0],r=e[1],n=void 0===e[2]?null:e[2],r&&"object"==typeof r)return!1;r=r.toString();const o=j(r);return b?`((${p(i,t)})${o.map((e=>`?.[${p(e,t)}]`)).join("")} ?? ${p(n,t)})`:`(((a,b) => (typeof a === 'undefined' || a === null) ? b : a)(${o.reduce(((e,t)=>`(${e}||0)[${JSON.stringify(t)}]`),`(${p(i,t)}||0)`)}, ${p(n,t)}))`}return!1},M.var.compile=function(e,t){let n=e,r=null;if(t.varTop=t.varTop||new Set,!n||"string"==typeof e||"number"==typeof e||Array.isArray(e)&&e.length<=2){if(Array.isArray(e)&&(n=e[0],r=void 0===e[1]?null:e[1]),"../index"===n&&t.iteratorCompile)return"index";if(null==n||""===n)return"context";if("string"!=typeof n&&"number"!=typeof n)return!1;if(n=n.toString(),n.includes("../"))return!1;const i=j(n),[o]=i;return t.varTop.add(o),t.engine.allowFunctions?t.methods.preventFunctions=e=>e:t.methods.preventFunctions=e=>"function"==typeof e?null:e,b?`(methods.preventFunctions(context${i.map((e=>`?.[${JSON.stringify(e)}]`)).join("")} ?? ${p(r,t)}))`:`(methods.preventFunctions(((a,b) => (typeof a === 'undefined' || a === null) ? b : a)(${i.reduce(((e,t)=>`(${e}||0)[${JSON.stringify(t)}]`),"(context||0)")}, ${p(r,t)})))`}return!1},M["+"].optimizeUnary=M["-"].optimizeUnary=M.var.optimizeUnary=M["!"].optimizeUnary=M["!!"].optimizeUnary=M.cat.optimizeUnary=!0;const S={...M},E=function(e){return Object.keys(e).forEach((t=>{void 0===e[t]&&delete e[t]})),e};function I(e,t,n=[]){if(Array.isArray(e)){const r=e.map((e=>I(e,t,n)));return(e,t)=>r.map((n=>"function"==typeof n?n(e,t):n))}if(e&&"object"==typeof e){const r=Object.keys(e)[0];if(t.isData(e,r))return()=>e;const i=!t.disableInline&&d(e,t,{engine:t});if(r in t.methods){const o=function(e,t,n,r){const i=t.methods[n],o=i.method?i.method:i;if(!1===i.traverse){const i=e[n];return(e,n)=>o(i,e,n||r,t)}let a=e[n];if(a&&"object"==typeof a||(a=[a]),Array.isArray(a)){const e=a.map((e=>I(e,t,r)));return(n,i)=>{const a=e.map((e=>"function"==typeof e?e(n,i):e));return o(a,n,i||r,t)}}{const e=I(a,t,r);return(n,a)=>o(l("function"==typeof e?e(n,a):e,i.optimizeUnary),n,a||r,t)}}(e,t,r,n);return i?o():o}}return e}const z=S.all,k={method:(e,t,n,r)=>{if(Array.isArray(e)){const i=r.run(e[0],t,n);if(Array.isArray(i)&&0===i.length)return!1}return z.method(e,t,n,r)},asyncMethod:async(e,t,n,r)=>{if(Array.isArray(e)){const i=await r.run(e[0],t,n);if(Array.isArray(i)&&0===i.length)return!1}return z.asyncMethod(e,t,n,r)},deterministic:z.deterministic,traverse:z.traverse};function D(e){return(!Array.isArray(e)||0!==e.length)&&e}function P(e){e.methods.all=k,e.truthy=D}class T{constructor(e=S,t={disableInline:!1,disableInterpretedOptimization:!1,permissive:!1}){this.disableInline=t.disableInline,this.disableInterpretedOptimization=t.disableInterpretedOptimization,this.methods={...e},this.optimizedMap=new WeakMap,this.missesSinceSeen=0,t.compatible&&P(this),this.options={disableInline:t.disableInline,disableInterpretedOptimization:t.disableInterpretedOptimization},this.isData||(t.permissive?this.isData=(e,t)=>!(t in this.methods):this.isData=()=>!1)}truthy(e){return e}_parse(e,t,n){const[r]=Object.keys(e),i=e[r];if(this.isData(e,r))return e;if(!this.methods[r])throw new Error(`Method '${r}' was not found in the Logic Engine.`);if("function"==typeof this.methods[r]){const e=i&&"object"==typeof i?l(this.run(i,t,{above:n})):[i];return this.methods[r](e,t,n,this)}if("object"==typeof this.methods[r]){const{method:e,traverse:o}=this.methods[r];return e(void 0===o||o?i&&"object"==typeof i?l(this.run(i,t,{above:n})):[i]:i,t,n,this)}throw new Error(`Method '${r}' is not set up properly.`)}addMethod(e,t,{deterministic:n,optimizeUnary:r}={}){t="function"==typeof t?{method:t,traverse:!0}:{...t},Object.assign(t,E({deterministic:n,optimizeUnary:r})),this.methods[e]=u(t)}addModule(e,t,n){Object.getOwnPropertyNames(t).forEach((r=>{"function"!=typeof t[r]&&"object"!=typeof t[r]||this.addMethod(`${e}${e?".":""}${r}`,t[r],n)}))}run(e,t={},n={}){const{above:r=[]}=n;if(this.missesSinceSeen>500&&(this.disableInterpretedOptimization=!0,this.missesSinceSeen=0),!this.disableInterpretedOptimization&&"object"==typeof e&&e&&!this.optimizedMap.has(e))return this.optimizedMap.set(e,I(e,this,r)),this.missesSinceSeen++,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,r):this.optimizedMap.get(e);if(!this.disableInterpretedOptimization&&e&&"object"==typeof e&&this.optimizedMap.get(e))return this.missesSinceSeen=0,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,r):this.optimizedMap.get(e);if(Array.isArray(e)){const n=[];for(let i=0;i<e.length;i++)n.push(this.run(e[i],t,{above:r}));return n}return e&&"object"==typeof e&&Object.keys(e).length>0?this._parse(e,t,r):e}build(e,t={}){const{above:n=[],top:r=!0}=t;if(r){const t=y(e,{state:{},engine:this,above:n});return"function"==typeof t||!0===r?(...e)=>"function"==typeof t?t(...e):t:t}return e}}function R(e,t,n=[]){if(t.fallback.allowFunctions=t.allowFunctions,Array.isArray(e)){const r=e.map((e=>R(e,t,n)));return c(r)?u(((e,t)=>r.map((n=>"function"==typeof n?n(e,t):n))),!0):async(e,t)=>i(r,(n=>"function"==typeof n?n(e,t):n))}if(e&&"object"==typeof e){const r=Object.keys(e)[0];if(t.isData(e,r))return()=>e;const o=!t.disableInline&&d(e,t,{engine:t});if(r in t.methods){const s=function(e,t,n,r){const o=t.methods[n],s=o.asyncMethod?o.asyncMethod:o.method?o.method:o;if(!1===o.traverse){if("function"==typeof o[a]&&o[a](e,{engine:t})){const i=o.method?o.method:o;return u(((o,a)=>i(e[n],o,a||r,t.fallback)),!0)}const i=e[n];return(e,n)=>s(i,e,n||r,t)}let f=e[n];if(f&&"object"==typeof f||(f=[f]),Array.isArray(f)){const e=f.map((e=>R(e,t,r)));if(c(e)&&(o.method||o[a])){const n=o.method?o.method:o;return u(((i,o)=>{const a=e.map((e=>"function"==typeof e?e(i,o):e));return n(a,i,o||r,t.fallback)}),!0)}return async(n,o)=>{const a=await i(e,(e=>"function"==typeof e?e(n,o):e));return s(a,n,o||r,t)}}{const e=R(f,t,r);if(c(e)&&(o.method||o[a])){const n=o.method?o.method:o;return u(((i,a)=>n(l("function"==typeof e?e(i,a):e,o.optimizeUnary),i,a||r,t)),!0)}return async(n,i)=>s(l("function"==typeof e?await e(n,i):e,o.optimizeUnary),n,i||r,t)}}(e,t,r,n);if(o){let e;return c(s)?u((()=>(e||(e=s()),e)),!0):async()=>(e||(e=await s()),e)}return s}}return e}Object.assign(T.prototype.truthy,{IDENTITY:!0});class _{constructor(e=S,t={disableInline:!1,disableInterpretedOptimization:!1,permissive:!1}){this.methods={...e},this.options={disableInline:t.disableInline,disableInterpretedOptimization:t.disableInterpretedOptimization},this.disableInline=t.disableInline,this.disableInterpretedOptimization=t.disableInterpretedOptimization,this.async=!0,this.fallback=new T(e,t),t.compatible&&P(this),this.optimizedMap=new WeakMap,this.missesSinceSeen=0,this.isData||(t.permissive?this.isData=(e,t)=>!(t in this.methods):this.isData=()=>!1),this.fallback.isData=this.isData}truthy(e){return e}async _parse(e,t,n){const[r]=Object.keys(e),i=e[r];if(this.isData(e,r))return e;if(!this.methods[r])throw new Error(`Method '${r}' was not found in the Logic Engine.`);if("function"==typeof this.methods[r]){const e=i&&"object"==typeof i?await this.run(i,t,{above:n}):[i],o=await this.methods[r](l(e),t,n,this);return Array.isArray(o)?Promise.all(o):o}if("object"==typeof this.methods[r]){const{asyncMethod:e,method:o,traverse:a}=this.methods[r],s=void 0===a||a?i&&"object"==typeof i?l(await this.run(i,t,{above:n})):[i]:i,c=await(e||o)(s,t,n,this);return Array.isArray(c)?Promise.all(c):c}throw new Error(`Method '${r}' is not set up properly.`)}addMethod(e,t,{deterministic:n,async:r,sync:i,optimizeUnary:o}={}){void 0===r&&void 0===i&&(i=!1),void 0!==i&&(r=!i),void 0!==r&&(i=!r),t="function"==typeof t?r?{asyncMethod:t,traverse:!0}:{method:t,traverse:!0}:{...t},Object.assign(t,E({deterministic:n,optimizeUnary:o})),this.fallback.addMethod(e,t,{deterministic:n}),this.methods[e]=u(t,i)}addModule(e,t,n={}){Object.getOwnPropertyNames(t).forEach((r=>{"function"!=typeof t[r]&&"object"!=typeof t[r]||this.addMethod(`${e}${e?".":""}${r}`,t[r],n)}))}async run(e,t={},n={}){const{above:r=[]}=n;if(this.missesSinceSeen>500&&(this.disableInterpretedOptimization=!0,this.missesSinceSeen=0),!this.disableInterpretedOptimization&&"object"==typeof e&&e&&!this.optimizedMap.has(e))return this.optimizedMap.set(e,R(e,this,r)),this.missesSinceSeen++,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,r):this.optimizedMap.get(e);if(!this.disableInterpretedOptimization&&e&&"object"==typeof e&&this.optimizedMap.get(e))return this.missesSinceSeen=0,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,r):this.optimizedMap.get(e);if(Array.isArray(e)){const n=[];for(let i=0;i<e.length;i++)n.push(await this.run(e[i],t,{above:r}));return n}return e&&"object"==typeof e&&Object.keys(e).length>0?this._parse(e,t,r):e}async build(e,t={}){const{above:n=[],top:r=!0}=t;if(this.fallback.truthy=this.truthy,this.fallback.allowFunctions=this.allowFunctions,r){const t=await m(e,{engine:this,above:n,async:!0,state:{}}),i=u(((...e)=>{if(!0===r)try{const n="function"==typeof t?t(...e):t;return Promise.resolve(n)}catch(n){return Promise.reject(n)}return"function"==typeof t?t(...e):t}),!0!==r&&c(t));return"function"==typeof t||!0===r?i:t}return e}}Object.assign(_.prototype.truthy,{IDENTITY:!0});var N=n(2303),C=n(4848);function L(e){let{children:t,fallback:n}=e;return(0,N.A)()?(0,C.jsx)(C.Fragment,{children:t?.()}):n??null}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(i,r))}}}function G(e){return{}.toString.call(e).includes("Object")}function H(e){return"function"==typeof e}var Q=K((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),X={changes:function(e,t){return G(t)||Q("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&Q("changeField"),t},selector:function(e){H(e)||Q("selectorType")},handler:function(e){H(e)||G(e)||Q("handlerType"),G(e)&&Object.values(e).some((function(e){return!H(e)}))&&Q("handlersType")},initial:function(e){var t;e||Q("initialIsRequired"),G(e)||Q("initialType"),t=e,Object.keys(t).length||Q("initialContent")}};function Z(e,t){return H(t)?t(e.current):t}function ee(e,t){return e.current=Y(Y({},e.current),t),t}function te(e,t,n){return H(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}const ne={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X.initial(e),X.handler(t);var n={current:e},r=K(te)(n,t),i=K(ee)(n),o=K(X.changes)(e),a=K(Z)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return X.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(r,i,o,a)(e)}]}};const re={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};const ie=function(e){return{}.toString.call(e).includes("Object")};var oe={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},ae=function(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(i,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))(oe),se={config:function(e){return e||ae("configIsRequired"),ie(e)||ae("configType"),e.urls?(console.warn(oe.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const ce=se;const ue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const le=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),V(V({},t),n)};var fe={type:"cancelation",msg:"operation is manually canceled"};const de=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(fe):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n};var he,pe,ye=ne.create({config:re,isInitialized:!1,resolve:null,reject:null,monaco:null}),me=(pe=2,function(e){if(Array.isArray(e))return e}(he=ye)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(he,pe)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(he,pe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ge=me[0],be=me[1];function ve(e){return document.body.appendChild(e)}function we(e){var t,n,r=ge((function(e){return{config:e.config,reject:e.reject}})),i=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return i.onload=function(){return e()},i.onerror=r.reject,i}function je(){var e=ge((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Ae(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Ae(e){ge().monaco||be({monaco:e})}var Oe=new Promise((function(e,t){return be({resolve:e,reject:t})})),$e={config:function(e){var t=ce.config(e),n=t.monaco,r=J(t,["monaco"]);be((function(e){return{config:le(e.config,r),monaco:n}}))},init:function(){var e=ge((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(be({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),de(Oe);if(window.monaco&&window.monaco.editor)return Ae(window.monaco),e.resolve(window.monaco),de(Oe);ue(ve,we)(je)}return de(Oe)},__getMonacoInstance:function(){return ge((function(e){return e.monaco}))}};const Me=$e;var xe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Se={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var Ee=function({children:e}){return r.createElement("div",{style:Se.container},e)};var Ie=function({width:e,height:t,isEditorReady:n,loading:i,_ref:o,className:a,wrapperProps:s}){return r.createElement("section",{style:{...xe.wrapper,width:e,height:t},...s},!n&&r.createElement(Ee,null,i),r.createElement("div",{ref:o,style:{...xe.fullWidth,...!n&&xe.hide},className:a}))},ze=(0,r.memo)(Ie);var ke=function(e){(0,r.useEffect)(e,[])};var De=function(e,t,n=!0){let i=(0,r.useRef)(!0);(0,r.useEffect)(i.current||!n?()=>{i.current=!1}:e,t)};function Pe(){}function Te(e,t,n,r){return function(e,t){return e.editor.getModel(Re(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?Re(e,r):void 0)}(e,t,n,r)}function Re(e,t){return e.Uri.parse(t)}var _e=function({original:e,modified:t,language:n,originalLanguage:i,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:s,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:l="light",loading:f="Loading...",options:d={},height:h="100%",width:p="100%",className:y,wrapperProps:m={},beforeMount:g=Pe,onMount:b=Pe}){let[v,w]=(0,r.useState)(!1),[j,A]=(0,r.useState)(!0),O=(0,r.useRef)(null),$=(0,r.useRef)(null),M=(0,r.useRef)(null),x=(0,r.useRef)(b),S=(0,r.useRef)(g),E=(0,r.useRef)(!1);ke((()=>{let e=Me.init();return e.then((e=>($.current=e)&&A(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>O.current?function(){let e=O.current?.getModel();c||e?.original?.dispose(),u||e?.modified?.dispose(),O.current?.dispose()}():e.cancel()})),De((()=>{if(O.current&&$.current){let t=O.current.getOriginalEditor(),r=Te($.current,e||"",i||n||"text",a||"");r!==t.getModel()&&t.setModel(r)}}),[a],v),De((()=>{if(O.current&&$.current){let e=O.current.getModifiedEditor(),r=Te($.current,t||"",o||n||"text",s||"");r!==e.getModel()&&e.setModel(r)}}),[s],v),De((()=>{let e=O.current.getModifiedEditor();e.getOption($.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],v),De((()=>{O.current?.getModel()?.original.setValue(e||"")}),[e],v),De((()=>{let{original:e,modified:t}=O.current.getModel();$.current.editor.setModelLanguage(e,i||n||"text"),$.current.editor.setModelLanguage(t,o||n||"text")}),[n,i,o],v),De((()=>{$.current?.editor.setTheme(l)}),[l],v),De((()=>{O.current?.updateOptions(d)}),[d],v);let I=(0,r.useCallback)((()=>{if(!$.current)return;S.current($.current);let r=Te($.current,e||"",i||n||"text",a||""),c=Te($.current,t||"",o||n||"text",s||"");O.current?.setModel({original:r,modified:c})}),[n,t,o,e,i,a,s]),z=(0,r.useCallback)((()=>{!E.current&&M.current&&(O.current=$.current.editor.createDiffEditor(M.current,{automaticLayout:!0,...d}),I(),$.current?.editor.setTheme(l),w(!0),E.current=!0)}),[d,l,I]);return(0,r.useEffect)((()=>{v&&x.current(O.current,$.current)}),[v]),(0,r.useEffect)((()=>{!j&&!v&&z()}),[j,v,z]),r.createElement(ze,{width:p,height:h,isEditorReady:v,loading:f,_ref:M,className:y,wrapperProps:m})};(0,r.memo)(_e);var Ne=function(e){let t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current},Ce=new Map;var Le=function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:i,language:o,path:a,theme:s="light",line:c,loading:u="Loading...",options:l={},overrideServices:f={},saveViewState:d=!0,keepCurrentModel:h=!1,width:p="100%",height:y="100%",className:m,wrapperProps:g={},beforeMount:b=Pe,onMount:v=Pe,onChange:w,onValidate:j=Pe}){let[A,O]=(0,r.useState)(!1),[$,M]=(0,r.useState)(!0),x=(0,r.useRef)(null),S=(0,r.useRef)(null),E=(0,r.useRef)(null),I=(0,r.useRef)(v),z=(0,r.useRef)(b),k=(0,r.useRef)(),D=(0,r.useRef)(i),P=Ne(a),T=(0,r.useRef)(!1),R=(0,r.useRef)(!1);ke((()=>{let e=Me.init();return e.then((e=>(x.current=e)&&M(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>S.current?(k.current?.dispose(),h?d&&Ce.set(a,S.current.saveViewState()):S.current.getModel()?.dispose(),void S.current.dispose()):e.cancel()})),De((()=>{let r=Te(x.current,e||i||"",t||o||"",a||n||"");r!==S.current?.getModel()&&(d&&Ce.set(P,S.current?.saveViewState()),S.current?.setModel(r),d&&S.current?.restoreViewState(Ce.get(a)))}),[a],A),De((()=>{S.current?.updateOptions(l)}),[l],A),De((()=>{!S.current||void 0===i||(S.current.getOption(x.current.editor.EditorOption.readOnly)?S.current.setValue(i):i!==S.current.getValue()&&(R.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),S.current.pushUndoStop(),R.current=!1))}),[i],A),De((()=>{let e=S.current?.getModel();e&&o&&x.current?.editor.setModelLanguage(e,o)}),[o],A),De((()=>{void 0!==c&&S.current?.revealLine(c)}),[c],A),De((()=>{x.current?.editor.setTheme(s)}),[s],A);let _=(0,r.useCallback)((()=>{if(E.current&&x.current&&!T.current){z.current(x.current);let r=a||n,u=Te(x.current,i||e||"",t||o||"",r||"");S.current=x.current?.editor.create(E.current,{model:u,automaticLayout:!0,...l},f),d&&S.current.restoreViewState(Ce.get(r)),x.current.editor.setTheme(s),void 0!==c&&S.current.revealLine(c),O(!0),T.current=!0}}),[e,t,n,i,o,a,l,f,d,s,c]);return(0,r.useEffect)((()=>{A&&I.current(S.current,x.current)}),[A]),(0,r.useEffect)((()=>{!$&&!A&&_()}),[$,A,_]),D.current=i,(0,r.useEffect)((()=>{A&&w&&(k.current?.dispose(),k.current=S.current?.onDidChangeModelContent((e=>{R.current||w(S.current.getValue(),e)})))}),[A,w]),(0,r.useEffect)((()=>{if(A){let e=x.current.editor.onDidChangeMarkers((e=>{let t=S.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=x.current.editor.getModelMarkers({resource:t});j?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[A,j]),r.createElement(ze,{width:p,height:y,isEditorReady:A,loading:u,_ref:E,className:m,wrapperProps:g})},Fe=(0,r.memo)(Le),Ue=n(8193);const Ve=new T;if(Ue.A.canUseDOM){const e=window.ResizeObserver;window.ResizeObserver=function(t){return new e(((e,n)=>{window.requestAnimationFrame((()=>{t(e,n)}))}))};for(let t in e)e.hasOwnProperty(t)&&(window.ResizeObserver[t]=e[t])}function Je(e){let{defaultLogic:t="",defaultData:n=""}=e;const[i,o]=(0,r.useState)(t),[a,s]=(0,r.useState)(n),[c,u]=(0,r.useState)(""),[l,f]=(r.useRef(null),(0,r.useState)({built:()=>{}}));function d(){u(l.built(a))}return(0,r.useEffect)((()=>{try{f({built:Ve.build(i)})}catch(e){}}),[i]),(0,r.useEffect)((()=>{(c??"").toString()||d()}),[l]),"undefined"!=typeof window?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(L,{children:()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("b",{children:"Logic:"}),(0,C.jsx)(Fe,{options:{minimap:{enabled:!1}},height:"180px",className:"editor",defaultLanguage:"json",defaultValue:JSON.stringify(i,void 0,2),onChange:e=>{try{o(JSON.parse(e))}catch(t){}}}),(0,C.jsx)("br",{}),(0,C.jsx)("b",{children:"Data:"}),(0,C.jsx)(Fe,{options:{minimap:{enabled:!1}},className:"editor",height:"140px",defaultLanguage:"json",defaultValue:JSON.stringify(a,void 0,4),onChange:e=>{try{s(JSON.parse(e))}catch(t){}}}),(0,C.jsx)("br",{}),(0,C.jsx)("button",{className:"btn btn-secondary",onClick:d,children:"Execute"})," ",(0,C.jsx)("br",{}),"Output: ",(0,C.jsx)("br",{}),(0,C.jsx)("code",{children:JSON.stringify(c)})]})})}):null}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>s});var r=n(6540);const i={},o=r.createContext(i);function a(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);